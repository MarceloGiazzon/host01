/*
 SmartMenus jQuery Plugin - v1.0.0 - January 27, 2016
 http://www.smartmenus.org/

 Copyright Vasil Dinkov, Vadikom Web Ltd.
 http://vadikom.com

 Licensed MIT
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,f,g){b instanceof String&&(b=String(b));for(var h=b.length,m=0;m<h;m++){var l=b[m];if(f.call(g,l,m,b))return{i:m,v:l}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,f,g){b!=Array.prototype&&b!=Object.prototype&&(b[f]=g.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,f,g,h){if(f){g=$jscomp.global;b=b.split(".");for(h=0;h<b.length-1;h++){var m=b[h];m in g||(g[m]={});g=g[m]}b=b[b.length-1];h=g[b];f=f(h);f!=h&&null!=f&&$jscomp.defineProperty(g,b,{configurable:!0,writable:!0,value:f})}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,g){return $jscomp.findInternal(this,b,g).v}},"es6","es3");
(function(b){"function"===typeof define&&define.amd?define(["jquery"],b):"object"===typeof module&&"object"===typeof module.exports?module.exports=b(require("jquery")):b(jQuery)})(function(b){function f(a){if(q||a)q&&a&&(b(document).unbind(".smartmenus_mouse"),q=!1);else{var c=!0,e=null;b(document).bind(g([["mousemove",function(a){var d={x:a.pageX,y:a.pageY,timeStamp:(new Date).getTime()};if(e){var p=Math.abs(e.x-d.x),g=Math.abs(e.y-d.y);if((0<p||0<g)&&2>=p&&2>=g&&300>=d.timeStamp-e.timeStamp&&(l=
!0,c)){var f=b(a.target).closest("a");f.is("a")&&b.each(h,function(){if(b.contains(this.$root[0],f[0]))return this.itemEnter({currentTarget:f[0]}),!1});c=!1}}e=d}],[w?"touchstart":"pointerover pointermove pointerout MSPointerOver MSPointerMove MSPointerOut",function(a){/^(4|mouse)$/.test(a.originalEvent.pointerType)||(l=!1)}]],".smartmenus_mouse"));q=!0}}function g(a,c){c||(c="");var e={};b.each(a,function(a,b){e[b[0].split(" ").join(c+" ")+c]=b[1]});return e}var h=[],m=!!window.createPopup,l=!1,
w="ontouchstart"in window,q=!1,y=window.requestAnimationFrame||function(a){return setTimeout(a,1E3/60)},z=window.cancelAnimationFrame||function(a){clearTimeout(a)};b.SmartMenus=function(a,c){this.$root=b(a);this.opts=c;this.accessIdPrefix=this.rootId="";this.$subArrow=null;this.activatedItems=[];this.visibleSubMenus=[];this.scrollTimeout=this.hideTimeout=this.showTimeout=0;this.focusActivated=this.clickActivated=!1;this.idInc=this.zIndexInc=0;this.$firstSub=this.$firstLink=null;this.disabled=!1;this.$touchScrollingSub=
this.$disableOverlay=null;this.cssTransforms3d="perspective"in a.style||"webkitPerspective"in a.style;this.wasCollapsible=!1;this.init()};b.extend(b.SmartMenus,{hideAll:function(){b.each(h,function(){this.menuHideAll()})},destroy:function(){for(;h.length;)h[0].destroy();f(!0)},prototype:{init:function(a){var c=this;a||(h.push(this),this.rootId=((new Date).getTime()+Math.random()+"").replace(/\D/g,""),this.accessIdPrefix="sm-"+this.rootId+"-",this.$root.hasClass("sm-rtl")&&(this.opts.rightToLeftSubMenus=
!0),a=".smartmenus",this.$root.data("smartmenus",this).attr("data-smartmenus-id",this.rootId).dataSM("level",1).bind(g([["mouseover focusin",b.proxy(this.rootOver,this)],["mouseout focusout",b.proxy(this.rootOut,this)],["keydown",b.proxy(this.rootKeyDown,this)]],a)).delegate("a",g([["mouseenter",b.proxy(this.itemEnter,this)],["mouseleave",b.proxy(this.itemLeave,this)],["mousedown",b.proxy(this.itemDown,this)],["focus",b.proxy(this.itemFocus,this)],["blur",b.proxy(this.itemBlur,this)],["click",b.proxy(this.itemClick,
this)]],a)),a+=this.rootId,this.opts.hideOnClick&&b(document).bind(g([["touchstart",b.proxy(this.docTouchStart,this)],["touchmove",b.proxy(this.docTouchMove,this)],["touchend",b.proxy(this.docTouchEnd,this)],["click",b.proxy(this.docClick,this)]],a)),b(window).bind(g([["resize orientationchange",b.proxy(this.winResize,this)]],a)),this.opts.subIndicators&&(this.$subArrow=b("<span/>").addClass("sub-arrow"),this.opts.subIndicatorsText&&this.$subArrow.html(this.opts.subIndicatorsText)),f());this.$firstSub=
this.$root.find("ul").each(function(){c.menuInit(b(this))}).eq(0);this.$firstLink=this.$root.find("a").eq(0);if(this.opts.markCurrentItem){var e=/(index|default)\.[^#\?\/]*/i,d=window.location.href.replace(e,""),k=d.replace(/#.*/,"");this.$root.find("a").each(function(){var a=this.href.replace(e,""),g=b(this);if(a==d||a==k)g.addClass("current"),c.opts.markCurrentTree&&g.parentsUntil("[data-smartmenus-id]","ul").each(function(){b(this).dataSM("parent-a").addClass("current")})})}this.wasCollapsible=
this.isCollapsible()},destroy:function(a){if(!a){var c=".smartmenus";this.$root.removeData("smartmenus").removeAttr("data-smartmenus-id").removeDataSM("level").unbind(c).undelegate(c);c+=this.rootId;b(document).unbind(c);b(window).unbind(c);this.opts.subIndicators&&(this.$subArrow=null)}this.menuHideAll();var e=this;this.$root.find("ul").each(function(){var a=b(this);a.dataSM("scroll-arrows")&&a.dataSM("scroll-arrows").remove();a.dataSM("shown-before")&&((e.opts.subMenusMinWidth||e.opts.subMenusMaxWidth)&&
a.css({width:"auto",minWidth:"",maxWidth:""}).removeClass("sm-nowrap"),a.dataSM("scroll-arrows")&&a.dataSM("scroll-arrows").remove(),a.css({zIndex:"",top:"",left:"",marginLeft:"",marginTop:"",display:""}));0==(a.attr("id")||"").indexOf(e.accessIdPrefix)&&a.removeAttr("id")}).removeDataSM("in-mega").removeDataSM("shown-before").removeDataSM("ie-shim").removeDataSM("scroll-arrows").removeDataSM("parent-a").removeDataSM("level").removeDataSM("beforefirstshowfired").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeAttr("aria-expanded");
this.$root.find("a.has-submenu").each(function(){var a=b(this);0==a.attr("id").indexOf(e.accessIdPrefix)&&a.removeAttr("id")}).removeClass("has-submenu").removeDataSM("sub").removeAttr("aria-haspopup").removeAttr("aria-controls").removeAttr("aria-expanded").closest("li").removeDataSM("sub");this.opts.subIndicators&&this.$root.find("span.sub-arrow").remove();this.opts.markCurrentItem&&this.$root.find("a.current").removeClass("current");a||(this.$firstSub=this.$firstLink=this.$root=null,this.$disableOverlay&&
(this.$disableOverlay.remove(),this.$disableOverlay=null),h.splice(b.inArray(this,h),1))},disable:function(a){this.disabled||(this.menuHideAll(),a||this.opts.isPopup||!this.$root.is(":visible")||(a=this.$root.offset(),this.$disableOverlay=b('<div class="sm-jquery-disable-overlay"/>').css({position:"absolute",top:a.top,left:a.left,width:this.$root.outerWidth(),height:this.$root.outerHeight(),zIndex:this.getStartZIndex(!0),opacity:0}).appendTo(document.body)),this.disabled=!0)},docClick:function(a){if(this.$touchScrollingSub)this.$touchScrollingSub=
null;else{if(this.visibleSubMenus.length&&!b.contains(this.$root[0],a.target)||b(a.target).is("a"))b(a.target).closest(".top-h")&&0!=b(".top-h").length?b(a.target).is(".has-submenu")&&0!=b(a.target).closest("#main-menu").length&&this.menuHideAll():this.menuHideAll();b.contains(this.$root[0],a.target)&&!b(a.target).is("a")||b(".floatMenu").has(a.target).length||b(".pushMenu").has(a.target).length||!b(a.target).closest(".top-h")||(b(a.target).closest(".top-h")&&b(a.target).is(".has-submenu")?b(a.target).parents("li").children("ul").fadeOut(150):
(b("#main-menu-state").prop("checked",!1),this.menuHideAll()))}},docTouchEnd:function(a){if(this.lastTouch){if(!(!this.visibleSubMenus.length||void 0!==this.lastTouch.x2&&this.lastTouch.x1!=this.lastTouch.x2||void 0!==this.lastTouch.y2&&this.lastTouch.y1!=this.lastTouch.y2||this.lastTouch.target&&b.contains(this.$root[0],this.lastTouch.target))){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var c=this;this.hideTimeout=setTimeout(function(){c.menuHideAll()},350)}this.lastTouch=
null}},docTouchMove:function(a){this.lastTouch&&(a=a.originalEvent.touches[0],this.lastTouch.x2=a.pageX,this.lastTouch.y2=a.pageY)},docTouchStart:function(a){a=a.originalEvent.touches[0];this.lastTouch={x1:a.pageX,y1:a.pageY,target:a.target}},enable:function(){this.disabled&&(this.$disableOverlay&&(this.$disableOverlay.remove(),this.$disableOverlay=null),this.disabled=!1)},getClosestMenu:function(a){for(a=b(a).closest("ul");a.dataSM("in-mega");)a=a.parent().closest("ul");return a[0]||null},getHeight:function(a){return this.getOffset(a,
!0)},getOffset:function(a,c){if("none"==a.css("display")){var b={position:a[0].style.position,visibility:a[0].style.visibility};a.css({position:"absolute",visibility:"hidden"}).show()}var d=a[0].getBoundingClientRect&&a[0].getBoundingClientRect();(d=d&&(c?d.height||d.bottom-d.top:d.width||d.right-d.left))||0===d||(d=c?a[0].offsetHeight:a[0].offsetWidth);b&&a.hide().css(b);return d},getStartZIndex:function(a){var c=parseInt(this[a?"$root":"$firstSub"].css("z-index"));!a&&isNaN(c)&&(c=parseInt(this.$root.css("z-index")));
return isNaN(c)?1:c},getTouchPoint:function(a){return a.touches&&a.touches[0]||a.changedTouches&&a.changedTouches[0]||a},getViewport:function(a){var c=a?"Height":"Width";a=document.documentElement["client"+c];(c=window["inner"+c])&&(a=Math.min(a,c));return a},getViewportHeight:function(){return this.getViewport(!0)},getViewportWidth:function(){return this.getViewport()},getWidth:function(a){return this.getOffset(a)},handleEvents:function(){return!this.disabled&&this.isCSSOn()},handleItemEvents:function(a){return this.handleEvents()&&
!this.isLinkInMegaMenu(a)},isCollapsible:function(){return"static"==this.$firstSub.css("position")},isCSSOn:function(){return"block"==this.$firstLink.css("display")},isFixed:function(){var a="fixed"==this.$root.css("position");a||this.$root.parentsUntil("body").each(function(){if("fixed"==b(this).css("position"))return a=!0,!1});return a},isLinkInMegaMenu:function(a){return b(this.getClosestMenu(a[0])).hasClass("mega-menu")},isTouchMode:function(){return!l||this.opts.noMouseOver||this.isCollapsible()},
itemActivate:function(a,c){var e=a.closest("ul"),d=e.dataSM("level");if(1<d&&(!this.activatedItems[d-2]||this.activatedItems[d-2][0]!=e.dataSM("parent-a")[0])){var k=this;b(e.parentsUntil("[data-smartmenus-id]","ul").get().reverse()).add(e).each(function(){k.itemActivate(b(this).dataSM("parent-a"))})}this.isCollapsible()&&!c||this.menuHideSubMenus(this.activatedItems[d-1]&&this.activatedItems[d-1][0]==a[0]?d:d-1);this.activatedItems[d-1]=a;!1!==this.$root.triggerHandler("activate.smapi",a[0])&&(a=
a.dataSM("sub"))&&(this.isTouchMode()||!this.opts.showOnClick||this.clickActivated)&&this.menuShow(a)},itemBlur:function(a){a=b(a.currentTarget);this.handleItemEvents(a)&&this.$root.triggerHandler("blur.smapi",a[0])},itemClick:function(a){var c=b(a.currentTarget);if(this.handleItemEvents(c)){if(this.$touchScrollingSub&&this.$touchScrollingSub[0]==c.closest("ul")[0])return this.$touchScrollingSub=null,a.stopPropagation(),!1;if(!1===this.$root.triggerHandler("click.smapi",c[0]))return!1;var e=b(a.target).is("span.sub-arrow"),
d=c.dataSM("sub"),k=d?2==d.dataSM("level"):!1;e||(e=b(a.target).closest("a").hasClass("has-submenu"));if(d&&!d.is(":visible")){if(this.opts.showOnClick&&k&&(this.clickActivated=!0),this.itemActivate(c),d.is(":visible"))return this.focusActivated=!0,!1}else if(this.isCollapsible()&&e)return this.itemActivate(c),this.menuHide(d),!1}},itemDown:function(a){a=b(a.currentTarget);this.handleItemEvents(a)&&a.dataSM("mousedown",!0)},itemEnter:function(a){var c=b(a.currentTarget);if(this.handleItemEvents(c)){if(!this.isTouchMode()){this.showTimeout&&
(clearTimeout(this.showTimeout),this.showTimeout=0);var e=this;this.showTimeout=setTimeout(function(){e.itemActivate(c)},this.opts.showOnClick&&1==c.closest("ul").dataSM("level")?1:this.opts.showTimeout)}this.$root.triggerHandler("mouseenter.smapi",c[0])}},itemFocus:function(a){a=b(a.currentTarget);this.handleItemEvents(a)&&(!this.focusActivated||this.isTouchMode()&&a.dataSM("mousedown")||this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0]==a[0]||this.itemActivate(a,!0),
this.$root.triggerHandler("focus.smapi",a[0]))},itemLeave:function(a){a=b(a.currentTarget);this.handleItemEvents(a)&&(this.isTouchMode()||(a[0].blur(),this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0)),a.removeDataSM("mousedown"),this.$root.triggerHandler("mouseleave.smapi",a[0]))},menuHide:function(a){if(!1!==this.$root.triggerHandler("beforehide.smapi",a[0])&&(a.stop(!0,!0),"none"!=a.css("display"))){var c=function(){a.css("z-index","")};this.isCollapsible()?this.opts.collapsibleHideFunction?
this.opts.collapsibleHideFunction.call(this,a,c):a.hide(this.opts.collapsibleHideDuration,c):this.opts.hideFunction?this.opts.hideFunction.call(this,a,c):a.hide(this.opts.hideDuration,c);a.dataSM("ie-shim")&&a.dataSM("ie-shim").remove().css({"-webkit-transform":"",transform:""});a.dataSM("scroll")&&(this.menuScrollStop(a),a.css({"touch-action":"","-ms-touch-action":"","-webkit-transform":"",transform:""}).unbind(".smartmenus_scroll").removeDataSM("scroll").dataSM("scroll-arrows").hide());a.dataSM("parent-a").removeClass("highlighted").attr("aria-expanded",
"false");a.attr({"aria-expanded":"false","aria-hidden":"true"});c=a.dataSM("level");this.activatedItems.splice(c-1,1);this.visibleSubMenus.splice(b.inArray(a,this.visibleSubMenus),1);this.$root.triggerHandler("hide.smapi",a[0])}},menuHideAll:function(){this.showTimeout&&(clearTimeout(this.showTimeout),this.showTimeout=0);for(var a=this.opts.isPopup?1:0,c=this.visibleSubMenus.length-1;c>=a;c--)this.menuHide(this.visibleSubMenus[c]);this.opts.isPopup&&(this.$root.stop(!0,!0),this.$root.is(":visible")&&
(this.opts.hideFunction?this.opts.hideFunction.call(this,this.$root):this.$root.hide(this.opts.hideDuration),this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").remove()));this.activatedItems=[];this.visibleSubMenus=[];this.focusActivated=this.clickActivated=!1;this.zIndexInc=0;this.$root.triggerHandler("hideAll.smapi")},menuHideSubMenus:function(a){for(var c=this.activatedItems.length-1;c>=a;c--){var b=this.activatedItems[c].dataSM("sub");b&&this.menuHide(b)}},menuIframeShim:function(a){m&&
this.opts.overlapControlsInIE&&!a.dataSM("ie-shim")&&a.dataSM("ie-shim",b("<iframe/>").attr({src:"javascript:0",tabindex:-9}).css({position:"absolute",top:"auto",left:"0",opacity:0,border:"0"}))},menuInit:function(a){if(!a.dataSM("in-mega")){a.hasClass("mega-menu")&&a.find("ul").dataSM("in-mega",!0);for(var c=2,b=a[0];(b=b.parentNode.parentNode)!=this.$root[0];)c++;b=a.prevAll("a").eq(-1);b.length||(b=a.prevAll().find("a").eq(-1));b.addClass("has-submenu").dataSM("sub",a);a.dataSM("parent-a",b).dataSM("level",
c).parent().dataSM("sub",a);c=b.attr("id")||this.accessIdPrefix+ ++this.idInc;var d=a.attr("id")||this.accessIdPrefix+ ++this.idInc;b.attr({id:c,"aria-haspopup":"true","aria-controls":d,"aria-expanded":"false"});a.attr({id:d,role:"group","aria-hidden":"true","aria-labelledby":c,"aria-expanded":"false"});if(this.opts.subIndicators)b[this.opts.subIndicatorsPos](this.$subArrow.clone())}},menuPosition:function(a){var c=a.dataSM("parent-a"),e=c.closest("li"),d=e.parent(),k=a.dataSM("level"),p=this.getWidth(a),
f=this.getHeight(a),h=c.offset(),m=h.left,l=h.top;h=this.getWidth(c);c=this.getHeight(c);var r=b(window),q=r.scrollLeft();r=r.scrollTop();var x=this.getViewportWidth(),u=this.getViewportHeight();d=d.parent().is("[data-sm-horizontal-sub]")||2==k&&!d.hasClass("sm-vertical");e=this.opts.rightToLeftSubMenus&&!e.is("[data-sm-reverse]")||!this.opts.rightToLeftSubMenus&&e.is("[data-sm-reverse]");var v=2==k?this.opts.mainMenuSubOffsetX:this.opts.subMenusSubOffsetX,n=2==k?this.opts.mainMenuSubOffsetY:this.opts.subMenusSubOffsetY;
d?(k=e?h-p-v:v,n=this.opts.bottomToTopSubMenus?-f-n:c+n):(k=e?v-p:h-v,n=this.opts.bottomToTopSubMenus?c-n-f:n);if(this.opts.keepInViewport){m+=k;l+=n;e&&m<q?k=d?q-m+k:h-v:!e&&m+p>q+x&&(k=d?q+x-p-m+k:v-p);if(!d)if(f<u&&l+f>r+u)n+=r+u-f-l;else if(f>=u||l<r)n+=r-l;if(d&&(l+f>r+u+.49||l<r)||!d&&f>u+.49){var t=this;a.dataSM("scroll-arrows")||a.dataSM("scroll-arrows",b([b('<span class="scroll-up"><span class="scroll-up-arrow"></span></span>')[0],b('<span class="scroll-down"><span class="scroll-down-arrow"></span></span>')[0]]).bind({mouseenter:function(){a.dataSM("scroll").up=
b(this).hasClass("scroll-up");t.menuScroll(a)},mouseleave:function(c){t.menuScrollStop(a);t.menuScrollOut(a,c)},"mousewheel DOMMouseScroll":function(a){a.preventDefault()}}).insertAfter(a));a.dataSM("scroll",{y:this.cssTransforms3d?0:n-c,step:1,itemH:c,subH:f,arrowDownH:this.getHeight(a.dataSM("scroll-arrows").eq(1))}).bind(g([["mouseover",function(c){t.menuScrollOver(a,c)}],["mouseout",function(c){t.menuScrollOut(a,c)}],["mousewheel DOMMouseScroll",function(c){t.menuScrollMousewheel(a,c)}]],".smartmenus_scroll")).dataSM("scroll-arrows").css({top:"auto",
left:"0",marginLeft:k+(parseInt(a.css("border-left-width"))||0),width:p-(parseInt(a.css("border-left-width"))||0)-(parseInt(a.css("border-right-width"))||0),zIndex:a.css("z-index")}).eq(d&&this.opts.bottomToTopSubMenus?0:1).show();this.isFixed()&&a.css({"touch-action":"none","-ms-touch-action":"none"}).bind(g([[w?"touchstart touchmove touchend":"pointerdown pointermove pointerup MSPointerDown MSPointerMove MSPointerUp",function(c){t.menuScrollTouch(a,c)}]],".smartmenus_scroll"))}}a.css({top:"auto",
left:"0",marginLeft:k,marginTop:n-c});this.menuIframeShim(a);a.dataSM("ie-shim")&&a.dataSM("ie-shim").css({zIndex:a.css("z-index"),width:p,height:f,marginLeft:k,marginTop:n-c})},menuScroll:function(a,c,b){var d=a.dataSM("scroll"),e=a.dataSM("scroll-arrows"),f=d.up?d.upEnd:d.downEnd;if(!c&&d.momentum){if(d.momentum*=.92,b=d.momentum,.5>b){this.menuScrollStop(a);return}}else b=b||(c||!this.opts.scrollAccelerate?this.opts.scrollStep:Math.floor(d.step));var g=a.dataSM("level");this.activatedItems[g-1]&&
this.activatedItems[g-1].dataSM("sub")&&this.activatedItems[g-1].dataSM("sub").is(":visible")&&this.menuHideSubMenus(g-1);d.y=d.up&&f<=d.y||!d.up&&f>=d.y?d.y:Math.abs(f-d.y)>b?d.y+(d.up?b:-b):f;a.add(a.dataSM("ie-shim")).css(this.cssTransforms3d?{"-webkit-transform":"translate3d(0, "+d.y+"px, 0)",transform:"translate3d(0, "+d.y+"px, 0)"}:{marginTop:d.y});l&&(d.up&&d.y>d.downEnd||!d.up&&d.y<d.upEnd)&&e.eq(d.up?1:0).show();if(d.y==f)l&&e.eq(d.up?0:1).hide(),this.menuScrollStop(a);else if(!c){this.opts.scrollAccelerate&&
d.step<this.opts.scrollStep&&(d.step+=.2);var h=this;this.scrollTimeout=y(function(){h.menuScroll(a)})}},menuScrollMousewheel:function(a,c){if(this.getClosestMenu(c.target)==a[0]){c=c.originalEvent;var b=0<(c.wheelDelta||-c.detail);a.dataSM("scroll-arrows").eq(b?0:1).is(":visible")&&(a.dataSM("scroll").up=b,this.menuScroll(a,!0))}c.preventDefault()},menuScrollOut:function(a,c){l&&(/^scroll-(up|down)/.test((c.relatedTarget||"").className)||(a[0]==c.relatedTarget||b.contains(a[0],c.relatedTarget))&&
this.getClosestMenu(c.relatedTarget)==a[0]||a.dataSM("scroll-arrows").css("visibility","hidden"))},menuScrollOver:function(a,c){if(l&&!/^scroll-(up|down)/.test(c.target.className)&&this.getClosestMenu(c.target)==a[0]){this.menuScrollRefreshData(a);c=a.dataSM("scroll");var e=b(window).scrollTop()-a.dataSM("parent-a").offset().top-c.itemH;a.dataSM("scroll-arrows").eq(0).css("margin-top",e).end().eq(1).css("margin-top",e+this.getViewportHeight()-c.arrowDownH).end().css("visibility","visible")}},menuScrollRefreshData:function(a){var c=
a.dataSM("scroll"),e=b(window).scrollTop()-a.dataSM("parent-a").offset().top-c.itemH;this.cssTransforms3d&&(e=-(parseFloat(a.css("margin-top"))-e));b.extend(c,{upEnd:e,downEnd:e+this.getViewportHeight()-c.subH})},menuScrollStop:function(a){if(this.scrollTimeout)return z(this.scrollTimeout),this.scrollTimeout=0,a.dataSM("scroll").step=1,!0},menuScrollTouch:function(a,c){c=c.originalEvent;if(!/^(4|mouse)$/.test(c.pointerType)){var e=this.getTouchPoint(c);if(this.getClosestMenu(e.target)==a[0]){var d=
a.dataSM("scroll");if(/(start|down)$/i.test(c.type))this.menuScrollStop(a)?(c.preventDefault(),this.$touchScrollingSub=a):this.$touchScrollingSub=null,this.menuScrollRefreshData(a),b.extend(d,{touchStartY:e.pageY,touchStartTime:c.timeStamp});else if(/move$/i.test(c.type)){var f=void 0!==d.touchY?d.touchY:d.touchStartY;if(void 0!==f&&f!=e.pageY){this.$touchScrollingSub=a;var g=f<e.pageY;void 0!==d.up&&d.up!=g&&b.extend(d,{touchStartY:e.pageY,touchStartTime:c.timeStamp});b.extend(d,{up:g,touchY:e.pageY});
this.menuScroll(a,!0,Math.abs(e.pageY-f))}c.preventDefault()}else if(void 0!==d.touchY){if(d.momentum=15*Math.pow(Math.abs(e.pageY-d.touchStartY)/(c.timeStamp-d.touchStartTime),2))this.menuScrollStop(a),this.menuScroll(a),c.preventDefault();delete d.touchY}}}},menuShow:function(a){if(!a.dataSM("beforefirstshowfired")&&(a.dataSM("beforefirstshowfired",!0),!1===this.$root.triggerHandler("beforefirstshow.smapi",a[0])))return;if(!1!==this.$root.triggerHandler("beforeshow.smapi",a[0])&&(a.dataSM("shown-before",
!0).stop(!0,!0),!a.is(":visible"))){var c=a.dataSM("parent-a");(this.opts.keepHighlighted||this.isCollapsible())&&c.addClass("highlighted");if(this.isCollapsible())a.removeClass("sm-nowrap").css({zIndex:"",width:"auto",minWidth:"",maxWidth:"",top:"",left:"",marginLeft:"",marginTop:""});else{a.css("z-index",this.zIndexInc=(this.zIndexInc||this.getStartZIndex())+1);if(this.opts.subMenusMinWidth||this.opts.subMenusMaxWidth)if(a.css({width:"auto",minWidth:"",maxWidth:""}).addClass("sm-nowrap"),this.opts.subMenusMinWidth&&
a.css("min-width",this.opts.subMenusMinWidth),this.opts.subMenusMaxWidth){var b=this.getWidth(a);a.css("max-width",this.opts.subMenusMaxWidth);b>this.getWidth(a)&&a.removeClass("sm-nowrap").css("width",this.opts.subMenusMaxWidth)}this.menuPosition(a);a.dataSM("ie-shim")&&a.dataSM("ie-shim").insertBefore(a)}b=function(){a.css("overflow","")};this.isCollapsible()?this.opts.collapsibleShowFunction?this.opts.collapsibleShowFunction.call(this,a,b):a.show(this.opts.collapsibleShowDuration,b):this.opts.showFunction?
this.opts.showFunction.call(this,a,b):a.show(this.opts.showDuration,b);c.attr("aria-expanded","true");a.attr({"aria-expanded":"true","aria-hidden":"false"});this.visibleSubMenus.push(a);this.$root.triggerHandler("show.smapi",a[0])}},popupHide:function(a){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0);var b=this;this.hideTimeout=setTimeout(function(){b.menuHideAll()},a?1:this.opts.hideTimeout)},popupShow:function(a,b){if(this.opts.isPopup){if(this.hideTimeout&&(clearTimeout(this.hideTimeout),
this.hideTimeout=0),this.$root.dataSM("shown-before",!0).stop(!0,!0),!this.$root.is(":visible")){this.$root.css({left:a,top:b});this.menuIframeShim(this.$root);this.$root.dataSM("ie-shim")&&this.$root.dataSM("ie-shim").css({zIndex:this.$root.css("z-index"),width:this.getWidth(this.$root),height:this.getHeight(this.$root),left:a,top:b}).insertBefore(this.$root);var c=this;a=function(){c.$root.css("overflow","")};this.opts.showFunction?this.opts.showFunction.call(this,this.$root,a):this.$root.show(this.opts.showDuration,
a);this.visibleSubMenus[0]=this.$root}}else alert('SmartMenus jQuery Error:\n\nIf you want to show this menu via the "popupShow" method, set the isPopup:true option.')},refresh:function(){this.destroy(!0);this.init(!0)},rootKeyDown:function(a){if(this.handleEvents())switch(a.keyCode){case 27:if(a=this.activatedItems[0]){this.menuHideAll();a[0].focus();var c=a.dataSM("sub");c&&this.menuHide(c)}break;case 32:c=b(a.target),c.is("a")&&this.handleItemEvents(c)&&(c=c.dataSM("sub"))&&!c.is(":visible")&&
(this.itemClick({currentTarget:a.target}),a.preventDefault())}},rootOut:function(a){if(this.handleEvents()&&!this.isTouchMode()&&a.target!=this.$root[0]&&(this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=0),!this.opts.showOnClick||!this.opts.hideOnClick)){var b=this;this.hideTimeout=setTimeout(function(){b.menuHideAll()},this.opts.hideTimeout)}},rootOver:function(a){this.handleEvents()&&!this.isTouchMode()&&a.target!=this.$root[0]&&this.hideTimeout&&(clearTimeout(this.hideTimeout),
this.hideTimeout=0)},winResize:function(a){this.handleEvents()?"onorientationchange"in window&&"orientationchange"!=a.type||(a=this.isCollapsible(),this.wasCollapsible&&a||(this.activatedItems.length&&this.activatedItems[this.activatedItems.length-1][0].blur(),this.menuHideAll()),this.wasCollapsible=a):this.$disableOverlay&&(a=this.$root.offset(),this.$disableOverlay.css({top:a.top,left:a.left,width:this.$root.outerWidth(),height:this.$root.outerHeight()}))}}});b.fn.dataSM=function(a,b){return b?
this.data(a+"_smartmenus",b):this.data(a+"_smartmenus")};b.fn.removeDataSM=function(a){return this.removeData(a+"_smartmenus")};b.fn.smartmenus=function(a){if("string"==typeof a){var c=arguments,e=a;Array.prototype.shift.call(c);return this.each(function(){var a=b(this).data("smartmenus");a&&a[e]&&a[e].apply(a,c)})}var d=b.extend({},b.fn.smartmenus.defaults,a);return this.each(function(){new b.SmartMenus(this,d)})};b.fn.smartmenus.defaults={isPopup:!1,mainMenuSubOffsetX:0,mainMenuSubOffsetY:0,subMenusSubOffsetX:0,
subMenusSubOffsetY:0,subMenusMinWidth:"auto",subMenusMaxWidth:"auto",subIndicators:!0,subIndicatorsPos:"prepend",subIndicatorsText:"+",scrollStep:30,scrollAccelerate:!0,showTimeout:150,hideTimeout:100000500,showDuration:150,showFunction:null,hideDuration:0,hideFunction:function(a,b){a.fadeOut(150,b)},collapsibleShowDuration:0,collapsibleShowFunction:function(a,b){a.slideDown(150,b)},collapsibleHideDuration:0,collapsibleHideFunction:function(a,b){a.slideUp(150,b)},showOnClick:!1,hideOnClick:!1,noMouseOver:!1,
keepInViewport:!0,keepHighlighted:!0,markCurrentItem:!1,markCurrentTree:!0,rightToLeftSubMenus:!1,bottomToTopSubMenus:!1,overlapControlsInIE:!0,testFunc:function(){console.log("testFunction")}};return b});
