<html><head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>TogetherJS Drawing Example</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="robots" content="noindex, nofollow">
  <meta name="googlebot" content="noindex, nofollow">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <script type="text/javascript" id="www-widgetapi-script" src="https://s.ytimg.com/yts/jsbin/www-widgetapi-vfll-F3yY/www-widgetapi.js" async=""></script>
  <script src="https://www.youtube.com/iframe_api"></script>
  <script type="text/javascript" src="jquery-2.0.2.js"></script>

    <link rel="stylesheet" type="text/css" href="/result-light.css">
    <link rel="stylesheet" type="text/css" href="bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="font-awesome.min.css">

  <style id="compiled-css" type="text/css">
      .upper-button {
	border-bottom-left-radius: 0px;
	border-bottom-right-radius: 0px;
}
.bottom-button {
	border-top-left-radius: 0px;
	border-top-right-radius: 0px;
}
.black-pick:hover {
	background-color: #000;
	border-color: #000;
}
.black-pick {
	background-color: #202020;
	border-color: #202020;
}

  </style>


  <!-- TODO: Missing CoffeeScript 2 -->

  <script type="text/javascript">
//<![CDATA[

    $(window).load(function(){

// get the canvas element and its context
var canvas = document.getElementById('sketch');
var context = canvas.getContext('2d');

// the aspect ratio is always based on 1140x400, height is calculated from width:
canvas.width = $('#sketchContainer').outerWidth();
canvas.height = (canvas.width/1140)*400;
$('#sketchContainer').outerHeight(String(canvas.height) + "px", true);
// scale function needs to know the width/height pre-resizing:
var oWidth = canvas.width;
var oHeight = canvas.height;
var lines = [];

var lastMouse = {
  x: 0,
  y: 0
};

// brush settings
context.lineWidth = 2;
context.lineJoin = 'round';
context.lineCap = 'round';
context.strokeStyle = '#000';

// attach the mousedown, mouseout, mousemove, mouseup event listeners.
canvas.addEventListener('mousedown', function (e) {
  lastMouse = {
    x: e.pageX - this.offsetLeft,
    y: e.pageY - this.offsetTop
  };
  canvas.addEventListener('mousemove', move, false);
}, false);

canvas.addEventListener('mouseout', function () {
  canvas.removeEventListener('mousemove', move, false);
}, false);

canvas.addEventListener('mouseup', function () {
  canvas.removeEventListener('mousemove', move, false);
}, false);

// Sets the brush size:
function setSize(size) {
  context.lineWidth = size;
}

// Sets the brush color:
function setColor(color) {
  context.globalCompositeOperation = 'source-over';
  context.strokeStyle = color;
}

// Sets the brush to erase-mode:
function eraser() {
  context.globalCompositeOperation = 'destination-out';
  context.strokeStyle = 'rgba(0,0,0,1)';
}

// Clears the canvas and the lines-array:
function clear(send) {
  context.clearRect(0, 0, canvas.width, canvas.height);
  lines = [];
  if (send && TogetherJS.running) {
    TogetherJS.send({
      type: 'clear'
    });
  }
}

// Redraws the lines from the lines-array:
function reDraw(lines){
  for (var i in lines) {
    draw(lines[i][0], lines[i][1], lines[i][2], lines[i][3], lines[i][4], false);
  }
}
// Draws the lines, called by move and the TogetherJS event listener:
function draw(start, end, color, size, compositeOperation, save) {
  context.save();
  context.lineJoin = 'round';
  context.lineCap = 'round';
  // Since the coordinates have been translated to an 1140x400 canvas, the context needs to be scaled before it can be drawn on:
  context.scale(canvas.width/1140,canvas.height/400);
  context.strokeStyle = color;
  context.globalCompositeOperation = compositeOperation;
  context.lineWidth = size;
  context.beginPath();
  context.moveTo(start.x, start.y);
  context.lineTo(end.x, end.y);
  context.closePath();
  context.stroke();
  context.restore();
  if (save) {
    // Won't save if draw() is called from reDraw().
    lines.push([{x: start.x, y: start.y}, {x: end.x, y: end.y}, color, size, compositeOperation]);
  }
}

// Called whenever the mousemove event is fired, calls the draw function:
function move(e) {
  var mouse = {
    x: e.pageX - this.offsetLeft,
    y: e.pageY - this.offsetTop
  };
  // Translates the coordinates from the local canvas size to 1140x400:
  sendMouse = {
    x: (1140/canvas.width)*mouse.x,
    y: (400/canvas.height)*mouse.y
  };
  sendLastMouse = {
    x: (1140/canvas.width)*lastMouse.x,
    y: (400/canvas.height)*lastMouse.y
  };
  draw(sendLastMouse, sendMouse, context.strokeStyle, context.lineWidth, context.globalCompositeOperation, true);
  if (TogetherJS.running) {
    TogetherJS.send({
      type: 'draw',
      start: sendLastMouse,
      end: sendMouse,
      color: context.strokeStyle,
      size: context.lineWidth,
      compositeOperation: context.globalCompositeOperation
    });
  }
  lastMouse = mouse;
}

// Listens for draw messages, sends info about the drawn lines:
TogetherJS.hub.on('draw', function (msg) {
  if (!msg.sameUrl) {
      return;
  }
  draw(msg.start, msg.end, msg.color, msg.size, msg.compositeOperation, true);
});


// Clears the canvas whenever someone presses the clear-button
TogetherJS.hub.on('clear', function (msg) {
  if (!msg.sameUrl) {
    return;
  }
  clear(false);
});

// Hello is sent from every newly connected user, this way they will receive what has already been drawn:
TogetherJS.hub.on('togetherjs.hello', function () {
  TogetherJS.send({
    type: 'init',
    lines: lines
  });
});

// Draw initially received drawings:
TogetherJS.hub.on('init', function (msg) {
  reDraw(msg.lines);
  lines = msg.lines;
});

// JQuery to handle buttons and resizing events, also changes the cursor to a dot resembling the brush size:
$(document).ready(function () {
  // changeMouse creates a temporary invisible canvas that shows the cursor, which is then set as the cursor through css:
  function changeMouse() {
    // Makes sure the cursorSize is scaled:
    var cursorSize = context.lineWidth*(canvas.width/1140);
    if (cursorSize < 10){
        cursorSize = 10;
    }
    var cursorColor = context.strokeStyle;
    var cursorGenerator = document.createElement('canvas');
    cursorGenerator.width = cursorSize;
    cursorGenerator.height = cursorSize;
    var ctx = cursorGenerator.getContext('2d');

    var centerX = cursorGenerator.width/2;
    var centerY = cursorGenerator.height/2;

    ctx.beginPath();
    ctx.arc(centerX, centerY, (cursorSize/2)-4, 0, 2 * Math.PI, false);
    ctx.lineWidth = 3;
    ctx.strokeStyle = cursorColor;
    ctx.stroke();
    $('#sketch').css('cursor', 'url(' + cursorGenerator.toDataURL('image/png') + ') ' + cursorSize/2 + ' ' + cursorSize/2 + ',crosshair');
  }
  // Init mouse
  changeMouse();

  // Redraws the lines whenever the canvas is resized:
  $(window).resize(function() {
    if ($('#sketchContainer').width() != oWidth) {
      canvas.width = $('#sketchContainer').width();
      canvas.height = (canvas.width/1140)*400;
      $('#sketchContainer').outerHeight(String(canvas.height)+"px", true);
      var ratio = canvas.width/oWidth;
      oWidth = canvas.width;
      oHeight = canvas.height;
      reDraw(lines);
      changeMouse();
    }
  });

  // Clears the canvas:
  $('.clear').click(function () {
    clear(true);
  });

  // Color-button functions:
  $('.color-picker').click(function () {
    var $this = $(this);
    console.log($this);
    setColor($this.css("background-color"));
    changeMouse();
  });

  $('.eraser').click(function () {
    eraser();
    changeMouse();
  });
  // TogetherJS user color:
  $('.user-color-pick').click(function() {
    setColor(TogetherJS.require('peers').Self.color);
    changeMouse();
  });

  // Increase/decrease brush size:
  $('.plus-size').click(function() {
    setSize(context.lineWidth+3);
    changeMouse();
  });

  $('.minus-size').click(function() {
    if (context.lineWidth > 3) {
      setSize(context.lineWidth-3);
    }
    changeMouse();
  });
});


    });

//]]></script>

<link id="togetherjs-stylesheet" rel="stylesheet" href="https://togetherjs.com/togetherjs/togetherjs.css?bust=1560052255179"><script src="https://togetherjs.com/togetherjs/togetherjsPackage.js?bust=1560052255179"></script></head>
<body>
    <script src="https://togetherjs.com/togetherjs-min.js"></script>
<a onclick="TogetherJS(this); return false;"><img src="https://togetherjs.com/images/start-togetherjs-blue.png" style="width: 135px"></a>

<div class="btn-group btn-group-justified" style="margin-right: auto; margin-top: 10px; width: 70%;">
  <a class="btn btn-info color-picker upper-button">Blue</a>
  <a class="btn btn-success color-picker">Green</a>
  <a class="btn btn-warning color-picker">Yellow</a>
  <a class="btn btn-danger color-picker">Red</a>
  <a class="btn btn-success color-picker black-pick upper-button" style="border-bottom-width: 0px;">Black</a>
</div>
<div class="clearfix"></div>
<div id="sketchContainer" style="width: 70%; height: 157px; border: 1px solid rgba(0, 0, 0, 0.2);"><canvas id="sketch" width="448" height="157" style="cursor: url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAARklEQVQYlWNgoDVQYGBgyGdgYKiHsnEq+o+E3+NSXABVcIGBgeEAlF2AT+F+BgaG8/gUCkBNg1l9ASqGFQhATSnAp4g6AAA/GxLzkoK+egAAAABJRU5ErkJggg==&quot;) 5 5, crosshair;"></canvas></div>
<div class="btn-group btn-group-justified" style="margin-right: auto; width: 70%;">
  <a class="btn btn-info user-color-pick bottom-button" style="width: 30%;">User Color</a>
  <a class="btn btn-success plus-size" style="width: 15%;">
    <i class="fa fa-plus-square"></i>
  </a>
  <a class="btn btn-warning clear" style="width: 15%;">
    <i class="fa fa-times-circle"></i>
  </a>
  <a class="btn btn-danger minus-size" style="width: 15%;">
    <i class="fa fa-minus-square"></i>
  </a>
  <a class="btn btn-default eraser bottom-button" style="width: 35%; border-top-width: 0px;">
    <i class="fa fa-eraser"></i>
  </a>
</div>


  <script>
    // tell the embed parent frame the height of the content
    if (window.parent && window.parent.parent){
      window.parent.parent.postMessage(["resultsFrame", {
        height: document.body.getBoundingClientRect().height,
        slug: "EZ5DT"
      }], "*")
    }

    // always overwrite window.name, in case users try to set it manually
    window.name = "result"
  </script>


<div id="togetherjs-container" class="togetherjs">

  <!-- This is the main set of buttons: -->
  <div id="togetherjs-dock" class="togetherjs-dock-right">
    <div id="togetherjs-dock-anchor" title="Move the dock">
      <span id="togetherjs-dock-anchor-horizontal">
        <img src="https://togetherjs.com/togetherjs/images/icn-handle-circle@2x.png" alt="drag">
      </span>
      <span id="togetherjs-dock-anchor-vertical">
        <img src="https://togetherjs.com/togetherjs/images/icn-handle-circle@2x.png" alt="drag">
      </span>
    </div>
    <div id="togetherjs-buttons">
      <div style="display: none">
        <button id="togetherjs-template-dock-person" class="togetherjs-button togetherjs-dock-person">
          <div class="togetherjs-tooltip togetherjs-dock-person-tooltip">
            <span class="togetherjs-person-name"></span>
            <span class="togetherjs-person-tooltip-arrow-r"></span>
          </div>
          <div class="togetherjs-person togetherjs-person-status-overlay"><div class="togetherjs-person-avatar-swatch"></div></div>
        </button>
      </div>
      <button id="togetherjs-profile-button" class="togetherjs-button" title="This is you">
        <div class="togetherjs-person togetherjs-person-self" style="background-image: url(&quot;https://togetherjs.com/togetherjs/images/default-avatar.png&quot;); border-color: rgb(158, 18, 208);" title="Prince Charming"><div class="togetherjs-person-avatar-swatch" style="border-top-color: rgb(158, 18, 208); border-right-color: rgb(158, 18, 208);"></div></div>
        <div id="togetherjs-profile-arrow"></div>
      </button>
      <button id="togetherjs-share-button" class="togetherjs-button" title="Add a friend"></button>
      <button id="togetherjs-audio-button" class="togetherjs-button" title="Turn on microphone">
        <span id="togetherjs-audio-unavailable" class="togetherjs-audio-set" data-toggles=".togetherjs-audio-set" style="display: none;">
        </span>
        <span id="togetherjs-audio-ready" class="togetherjs-audio-set" data-toggles=".togetherjs-audio-set" style="">
        </span>
        <span id="togetherjs-audio-outgoing" class="togetherjs-audio-set" data-toggles=".togetherjs-audio-set" style="display: none">
        </span>
        <span id="togetherjs-audio-incoming" class="togetherjs-audio-set" data-toggles=".togetherjs-audio-set" style="display: none">
        </span>
        <span id="togetherjs-audio-active" class="togetherjs-audio-set" data-toggles=".togetherjs-audio-set" style="display: none">
        </span>
        <span id="togetherjs-audio-muted" class="togetherjs-audio-set" data-toggles=".togetherjs-audio-set" style="display: none">
        </span>
        <span id="togetherjs-audio-error" class="togetherjs-audio-set" data-toggles=".togetherjs-audio-set" style="display: none">
        </span>
      </button>
      <button id="togetherjs-chat-button" class="togetherjs-button" title="Chat"></button>
      <div id="togetherjs-dock-participants"></div>
    </div>
  </div>

  <!-- The window for editing the avatar: -->
  <div id="togetherjs-avatar-edit" class="togetherjs-modal" style="display: none">
    <header> Update avatar <button class="togetherjs-close"></button></header>
    <section>
      <div class="togetherjs-avatar-preview togetherjs-person togetherjs-person-self" style="background-image: url(&quot;https://togetherjs.com/togetherjs/images/default-avatar.png&quot;); border-color: rgb(158, 18, 208);" title="Prince Charming"><div class="togetherjs-person-avatar-swatch" style="border-top-color: rgb(158, 18, 208); border-right-color: rgb(158, 18, 208);"></div></div>
      <div id="togetherjs-avatar-buttons">
        <input type="file" class="togetherjs-upload-avatar">
        <!--<button id="togetherjs-upload-avatar" class="togetherjs-primary">Upload a picture</button>-->
        <!--<button id="togetherjs-camera-avatar" class="togetherjs-default">Take a picture</button>-->
      </div>
    </section>
    <section class="togetherjs-buttons">
      <button class="togetherjs-cancel togetherjs-dismiss">Cancel</button>
      <span class="togetherjs-alt-text">or</span>
      <button class="togetherjs-avatar-save togetherjs-primary" disabled="">Save</button>
    </section>
  </div>

  <!-- The window for sharing the link: -->
  <div id="togetherjs-share" class="togetherjs-window" data-bind-to="#togetherjs-share-button" style="opacity: 1; top: 105px; left: 261px; z-index: 8888; display: none;">
    <header> Invite a friend <button class="togetherjs-close"></button></header>
    <section>
      <div class="togetherjs-not-mobile">
        <p>Copy and paste this link over IM or email:</p>
        <input type="text" class="togetherjs-share-link">
      </div>
      <div class="togetherjs-only-mobile">
        <p>Copy and paste this link over IM or email:</p>
        <input type="text" class="togetherjs-share-link">
        <!-- <a class="togetherjs-share-link" href="#">Press your thumb here.</a> -->
      </div>
    </section>
  </div>

  <!-- Participant Full List view template: -->
  <div id="togetherjs-participantlist" class="togetherjs-window" data-bind-to="#togetherjs-participantlist-button" style="display: none">
    <header> Participants <button class="togetherjs-close"></button></header>
    <section>
      <div class="togetherjs-not-mobile">
        <ul>
          <li id="togetherjs-participant-item">
            <img class="togetherjs-person togetherjs-person-small" src="https://togetherjs.com/togetherjs/images/btn-menu-change-avatar.png">
            <span class="tj-name togetherjs-person-name">Useronewith alongname</span>
            <span class="tj-status">●</span>
            <p class="tj-urllocation">Currently at: <a class="togetherjs-person-url togetherjs-person-url-title" href="">http://www.location.comwww.location.comwww.location.comasdfsafd</a></p>
            <p class="tj-follow">Follow:
              <label class="togetherjs-follow-question" for="togetherjs-person-status-follow">
                <input type="checkbox" id="togetherjs-person-status-follow">
              </label>
            </p>
            <section class="togetherjs-buttons">
              <!-- Displayed when the peer is at a different URL: -->
              <div class="togetherjs-different-url">
                <a class="togetherjs-nudge togetherjs-default tj-btn-sm">Nudge them</a>
                <a href="#" class="togetherjs-follow togetherjs-person-url togetherjs-primary tj-btn-sm">Join them</a>
              </div>
              <!-- Displayed when the peer is at your same URL: -->
              <div class="togetherjs-same-url" style="display: none">
                <span class="togetherjs-person-name"></span> is on the same page as you.
              </div>
            </section>
          </li>
        </ul>
    </div></section>
  </div>

  <!-- Participant detail template: -->
  <div id="togetherjs-template-participant-window" class="togetherjs-window" style="display: none">
    <header><div class="togetherjs-person togetherjs-person-small"><div class="togetherjs-person-avatar-swatch"></div></div><span class="togetherjs-person-name"></span><button class="togetherjs-close"></button></header>

    <section class="togetherjs-participant-window-main">
      <p class="togetherjs-participant-window-row"><strong>Role:</strong>
        <span class="togetherjs-person-role"></span>
      </p>

      <p class="togetherjs-participant-window-row"><strong>Currently at:</strong>
        <a class="togetherjs-person-url togetherjs-person-url-title"></a>
      </p>

      <p class="togetherjs-participant-window-row"><strong>Status:</strong>
        <span class="togetherjs-person-status"></span>
      </p>

      <p class="togetherjs-participant-window-row"><strong class="togetherjs-float-left">Follow this participant:</strong>
        <label class="togetherjs-follow-question togetherjs-float-left" for="togetherjs-person-status-follow">
          <input type="checkbox" id="togetherjs-person-status-follow">
        </label>
        <span class="togetherjs-clear"></span>
      </p>

    </section>

    <section class="togetherjs-buttons">
      <!-- Displayed when the peer is at a different URL: -->
      <div class="togetherjs-different-url">
        <a class="togetherjs-nudge togetherjs-default">Nudge them</a>
        <a href="#" class="togetherjs-follow togetherjs-person-url togetherjs-primary">Join them</a>
      </div>
      <!-- Displayed when the peer is at your same URL: -->
      <div class="togetherjs-same-url" style="display: none">
        <span class="togetherjs-person-name"></span> is on the same page as you.
      </div>
    </section>
  </div>

  <!-- The chat screen: -->
  <div id="togetherjs-chat" class="togetherjs-window" data-bind-to="#togetherjs-chat-button" style="display: none">
    <header> Chat <button class="togetherjs-close"></button></header>
    <section class="togetherjs-subtitle">
      <div id="togetherjs-chat-participants" data-toggles="#togetherjs-chat-no-participants" style="display: none">
        <span id="togetherjs-chat-participant-list"></span>
        &amp; You
      </div>
      <div id="togetherjs-chat-no-participants" data-toggles="#togetherjs-chat-participants">
        No one else is here.
      </div>
    </section>

    <div style="display: none">

      <!-- Template for one message: -->
      <div id="togetherjs-template-chat-message" class="togetherjs-chat-item togetherjs-chat-message">
        <div class="togetherjs-person"><div class="togetherjs-person-avatar-swatch"></div></div>
        <div class="togetherjs-timestamp"><span class="togetherjs-time">HH:MM</span> <span class="togetherjs-ampm">AM/PM</span></div>
        <div class="togetherjs-person-name-abbrev"></div>
        <div class="togetherjs-chat-content togetherjs-sub-content"></div>
      </div>

      <!-- Template for when a person leaves: -->
      <div id="togetherjs-template-chat-left" class="togetherjs-chat-item togetherjs-chat-left-item">
        <div class="togetherjs-person"><div class="togetherjs-person-avatar-swatch"></div></div>
        <div class="togetherjs-ifnot-declinedJoin">
          <div class="togetherjs-inline-text"><span class="togetherjs-person-name"></span> left the session.</div>
        </div>
        <div class="togetherjs-if-declinedJoin">
          <div class="togetherjs-inline-text"><span class="togetherjs-person-name"></span> declined to join the session.</div>
        </div>
        <div class="togetherjs-clear"></div>
      </div>

      <!-- Template when a person joins the session: -->
      <div id="togetherjs-template-chat-joined" class="togetherjs-chat-item togetherjs-chat-join-item">
        <div class="togetherjs-person"><div class="togetherjs-person-avatar-swatch"></div></div>
        <div class="togetherjs-inline-text"><span class="togetherjs-person-name"></span> joined the session.</div>
        <div class="togetherjs-clear"></div>
      </div>

      <!-- Template for system-derived messages: -->
      <div id="togetherjs-template-chat-system" class="togetherjs-chat-item">
        <span class="togetherjs-chat-content togetherjs-sub-content"></span>
      </div>

      <!-- Template when a person joins the session: -->
      <!-- <div id="togetherjs-template-chat-joined" class="togetherjs-chat-item togetherjs-chat-join-item">
        <div class="togetherjs-person"></div>
        <div class="togetherjs-inline-text"><span class="togetherjs-person-name"></span> joined the session.</div>
        <div class="togetherjs-clear"></div>
      </div> -->

      <!-- Template for when someone goes to a new URL: -->
      <div id="togetherjs-template-url-change" class="togetherjs-chat-item togetherjs-chat-url-change">
        <div class="togetherjs-person"><div class="togetherjs-person-avatar-swatch"></div></div>
        <div class="togetherjs-inline-text">
          <div class="togetherjs-if-sameUrl">
            <span class="togetherjs-person-name"></span>
            is on the same page as you.
          </div>
          <div class="togetherjs-ifnot-sameUrl">
            <span class="togetherjs-person-name"></span>
            has gone to: <a href="#" class="togetherjs-person-url togetherjs-person-url-title" target="_self"></a>
            <section class="togetherjs-buttons togetherjs-buttons-notification-diff-url">
              <!-- Displayed when the peer is at a different URL: -->
              <div class="togetherjs-different-url togetherjs-notification-diff-url">
                <a class="togetherjs-nudge togetherjs-default">Nudge them</a>
                <a href="#" class="togetherjs-follow togetherjs-person-url togetherjs-primary">Join them</a>
              </div>
            </section>

            <!-- <div>
              <a class="togetherjs-nudge togetherjs-secondary">Nudge them</a>
              <a href="" class="togetherjs-person-url togetherjs-follow togetherjs-primary">Join them</a>
            </div> -->

          </div>
        </div>
        <div class="togetherjs-clear"></div>
      </div>
    </div>

    <section id="togetherjs-chat-messages">
      <!-- FIX ME// need to have some dialogue that says something like - There are no chats yet! -->
    </section>
    <section id="togetherjs-chat-input-box">
      <textarea id="togetherjs-chat-input" placeholder="Type your message here"></textarea>
    </section>
  </div>

  <!-- this is a kind of warning popped up when you (successfully) start RTC: -->
  <div id="togetherjs-rtc-info" class="togetherjs-window" data-bind-to="#togetherjs-audio-button" style="display: none">

    <header> Audio Chat <button class="togetherjs-close"></button></header>
    <section>
      <p>
        Activate your <strong>browser microphone</strong> near your URL bar above.
      </p>
      <p>
        Talking on your microphone through your web browser is an experimental feature.
      </p>
      <p>
        Read more about Audio Chat <a href="https://github.com/mozilla/togetherjs/wiki/About-Audio-Chat-and-WebRTC" target="_blank">here</a>.
      </p>
    </section>

    <section class="togetherjs-buttons">
      <label for="togetherjs-rtc-info-dismiss" style="display: inline;">
        <input class="togetherjs-dont-show-again" id="togetherjs-rtc-info-dismiss" type="checkbox">
        Don't show again.
      </label>
      <button class="togetherjs-default togetherjs-dismiss" type="button">Close</button>
    </section>
  </div>

  <!-- this is popped up when you hit the audio button, but RTC isn't
  supported: -->
  <div id="togetherjs-rtc-not-supported" class="togetherjs-window" data-bind-to="#togetherjs-audio-button" style="display: none">
    <header> Audio Chat <button class="togetherjs-close"></button></header>

    <section>
      <p>Audio chat requires you to use a <a href="https://github.com/mozilla/togetherjs/wiki/About-Audio-Chat-and-WebRTC" target="_blank">
        newer browser
      </a>!</p>
      <p>
        Live audio chat requires a newer (or different) browser than you're using.
      </p>
      <p>
        See
        <a href="https://github.com/mozilla/togetherjs/wiki/About-Audio-Chat-and-WebRTC" target="_blank">
          this page
        </a>
        for more information and a list of supported browsers.
      </p>
    </section>

    <section class="togetherjs-buttons">
      <div class="togetherjs-rtc-dialog-btn">
        <button class="togetherjs-default togetherjs-dismiss" type="button">Close</button>
      </div>
    </section>
  </div>

  <!-- The popup when a chat message comes in and the #togetherjs-chat window isn't open -->
  <div id="togetherjs-chat-notifier" class="togetherjs-notification" data-bind-to="#togetherjs-chat-button" style="display: none">
    <img src="https://togetherjs.com/togetherjs/images/notification-togetherjs-logo.png" class="togetherjs-notification-logo" alt="">
    <img src="https://togetherjs.com/togetherjs/images/notification-btn-close.png" class="togetherjs-notification-closebtn togetherjs-dismiss" alt="[close]">
    <section id="togetherjs-chat-notifier-message">
    </section>
  </div>

  <!-- The menu when you click on the profile: -->
  <div id="togetherjs-menu" class="togetherjs-menu" style="display: none">
    <div class="togetherjs-menu-item togetherjs-menu-disabled" id="togetherjs-menu-profile">
      <img id="togetherjs-menu-avatar" src="https://togetherjs.com/togetherjs/images/default-avatar.png">
      <span class="togetherjs-person-name-self" id="togetherjs-self-name-display" data-toggles="#togetherjs-menu .togetherjs-self-name">Prince Charming</span>
      <input class="togetherjs-self-name" type="text" data-toggles="#togetherjs-self-name-display" style="display: none" placeholder="Enter your name">
    </div>
    <div class="togetherjs-menu-hr-avatar"></div>
    <div class="togetherjs-menu-item" id="togetherjs-menu-update-name"><img src="https://togetherjs.com/togetherjs/images/button-pencil.png" alt=""> Update your name</div>
    <div class="togetherjs-menu-item" id="togetherjs-menu-update-avatar"><img src="https://togetherjs.com/togetherjs/images/btn-menu-change-avatar.png" alt=""> Change avatar</div>
    <div class="togetherjs-menu-item" id="togetherjs-menu-update-color"><span class="togetherjs-person-bgcolor-self" style="background-color: rgb(158, 18, 208);"></span> Pick profile color</div>
    <div class="togetherjs-hr"></div>
    <div class="togetherjs-menu-item" id="togetherjs-menu-help">Help</div>
    <div class="togetherjs-menu-item" id="togetherjs-menu-feedback">Feedback</div>
    <div id="togetherjs-invite" style="display: none">
      <div class="togetherjs-hr"></div>
      <div id="togetherjs-invite-users"></div>
      <div class="togetherjs-menu-item" id="togetherjs-menu-refresh-invite">Refresh users</div>
      <div class="togetherjs-menu-item" id="togetherjs-menu-invite-anyone">Invite anyone</div>
    </div>
    <div class="togetherjs-hr"></div>
    <div class="togetherjs-menu-item" id="togetherjs-menu-end"><img src="https://togetherjs.com/togetherjs/images/button-end-session.png" alt=""> End <span class="togetherjs-tool-name">TogetherJS</span></div>
  </div>

  <!-- template for one person in the invite-users list -->
  <div style="display: none">
    <div id="togetherjs-template-invite-user-item" class="togetherjs-menu-item">
      <!-- FIXME: should include avatar in some way -->
      <span class="togetherjs-person-name"></span>
    </div>
  </div>

  <!-- A window version of #togetherjs-menu, for use on mobile -->
  <div id="togetherjs-menu-window" class="togetherjs-window" style="display: none">
    <header>Settings and Profile<button class="togetherjs-close"></button></header>
    <section>
    <div class="togetherjs-menu-item">
      <img class="togetherjs-menu-avatar">
      <span class="togetherjs-person-name-self" id="togetherjs-self-name-display">Prince Charming</span>
    </div>
    <div class="togetherjs-menu-hr-avatar"></div>
    <div class="togetherjs-menu-item" id="togetherjs-menu-update-name-button"><img src="https://togetherjs.com/togetherjs/images/button-pencil.png" alt=""> Update your name</div>
    <div class="togetherjs-menu-item" id="togetherjs-menu-update-avatar-button"><img src="https://togetherjs.com/togetherjs/images/btn-menu-change-avatar.png" alt=""> Change avatar</div>
    <div class="togetherjs-menu-item" id="togetherjs-menu-update-color-button"><span class="togetherjs-person-bgcolor-self" style="background-color: rgb(158, 18, 208);"></span> Pick profile color</div>
    <div class="togetherjs-hr"></div>
    <div class="togetherjs-menu-item" id="togetherjs-menu-help-button">Help</div>
    <div class="togetherjs-menu-item" id="togetherjs-menu-feedback-button">Feedback</div>
    <div class="togetherjs-hr"></div>
    <div class="togetherjs-menu-item" id="togetherjs-menu-end-button"><img src="https://togetherjs.com/togetherjs/images/button-end-session.png" alt=""> End <span class="togetherjs-tool-name">TogetherJS</span></div>
    </section>
    <section class="togetherjs-buttons">
      <button class="togetherjs-dismiss togetherjs-primary">OK</button>
    </section>
  </div>

  <!-- The name editor, for use on mobile -->
  <div id="togetherjs-edit-name-window" class="togetherjs-window" style="display: none">
    <header>Update Name<button class="togetherjs-close"></button></header>
    <section>
      <div>
        <input class="togetherjs-self-name" type="text" placeholder="Enter your name">
      </div>
    </section>
    <section class="togetherjs-buttons">
      <button class="togetherjs-dismiss togetherjs-primary">OK</button>
    </section>
  </div>

  <div class="togetherjs-menu" id="togetherjs-pick-color" style="display: none">
    <div class="togetherjs-triangle-up"><img src="https://togetherjs.com/togetherjs/images/icn-triangle-up.png"></div>
    <div style="display: none">
      <div id="togetherjs-template-swatch" class="togetherjs-swatch">
      </div>
    </div>
  <div class="togetherjs-swatch" data-color="#8A2BE2" style="background-color: rgb(138, 43, 226); border-color: rgb(112, 26, 193);">
      </div><div class="togetherjs-swatch" data-color="#7FFF00" style="background-color: rgb(127, 255, 0); border-color: rgb(102, 204, 0);">
      </div><div class="togetherjs-swatch" data-color="#DC143C" style="background-color: rgb(220, 20, 60); border-color: rgb(173, 16, 47);">
      </div><div class="togetherjs-swatch" data-color="#00FFFF" style="background-color: rgb(0, 255, 255); border-color: rgb(0, 204, 204);">
      </div><div class="togetherjs-swatch" data-color="#8FBC8F" style="background-color: rgb(143, 188, 143); border-color: rgb(112, 169, 112);">
      </div><div class="togetherjs-swatch" data-color="#FF8C00" style="background-color: rgb(255, 140, 0); border-color: rgb(204, 112, 0);">
      </div><div class="togetherjs-swatch" data-color="#FF00FF" style="background-color: rgb(255, 0, 255); border-color: rgb(204, 0, 204);">
      </div><div class="togetherjs-swatch" data-color="#FFD700" style="background-color: rgb(255, 215, 0); border-color: rgb(204, 173, 0);">
      </div><div class="togetherjs-swatch" data-color="#F08080" style="background-color: rgb(240, 128, 128); border-color: rgb(235, 82, 82);">
      </div><div class="togetherjs-swatch" data-color="#90EE90" style="background-color: rgb(144, 238, 144); border-color: rgb(101, 231, 101);">
      </div><div class="togetherjs-swatch" data-color="#FF6347" style="background-color: rgb(255, 99, 71); border-color: rgb(255, 56, 20);">
      </div></div>

  <!-- Invisible elements that handle the RTC audio: -->
  <audio id="togetherjs-audio-element"></audio>
  <audio id="togetherjs-local-audio" muted="true" volume="0.3"></audio>
  <audio id="togetherjs-notification" src="https://togetherjs.com/togetherjs/images/notification.ogg"></audio>

  <!-- The intro screen for someone who joins a session the first time: -->
  <div id="togetherjs-intro" class="togetherjs-modal" style="display: none">
    <header>Join <span class="togetherjs-tool-name">TogetherJS</span> session?<button class="togetherjs-close"></button></header>
    <section>
      <p>Your friend has asked you to join their <a href="https://togetherjs.mozillalabs.com/" target="_blank"><span class="togetherjs-tool-name">TogetherJS</span></a> browser session to collaborate in real-time!</p>

      <p>Would you like to join their session?</p>
    </section>

    <section class="togetherjs-buttons">
      <button class="togetherjs-destructive togetherjs-modal-dont-join">No, don't join</button>
      <button class="togetherjs-primary togetherjs-dismiss">Yes, join session</button>
    </section>
  </div>

  <!-- Shown when a web browser is completely incapable of running TogetherJS: -->
  <div id="togetherjs-browser-broken" class="togetherjs-modal" style="display: none">
    <header> Sorry <button class="togetherjs-close"></button></header>

    <section>
      <p>
        We're sorry, <span class="togetherjs-tool-name">TogetherJS</span> doesn't work with this browser.  Please
        <a href="https://github.com/mozilla/togetherjs/wiki/Supported-Browsers#supported-browsers">upgrade
          to a supported browser</a> to try <span class="togetherjs-tool-name">TogetherJS</span>.
      </p>

      <p id="togetherjs-browser-broken-is-ie" style="display: none">
        We need your help fixing TogetherJS on Internet Explorer!  Here are a list of IE <a href="https://github.com/mozilla/togetherjs/issues?labels=IE&amp;milestone=&amp;page=1&amp;state=open" target="_blank">GitHub issues</a> we need fixed that you can work on.
        Internet Explorer <a href="https://github.com/mozilla/togetherjs/wiki/Supported-Browsers#internet-explorer">is
          currently not supported</a>.  If you do want to try out TogetherJS, we'd suggest using Firefox or Chrome.
      </p>
    </section>

    <section class="togetherjs-buttons">
      <button class="togetherjs-dismiss togetherjs-primary">End <span class="togetherjs-tool-name">TogetherJS</span></button>
    </section>

  </div>

  <!-- Shown when the browser has WebSockets, but is IE (i.e., IE10) -->
  <div id="togetherjs-browser-unsupported" class="togetherjs-modal" style="display: none">
    <header> Unsupported Browser <button class="togetherjs-close"></button></header>

    <section>
      <p>
        We need your help fixing TogetherJS on Internet Explorer!  Here are a list of IE <a href="https://github.com/mozilla/togetherjs/issues?labels=IE&amp;milestone=&amp;page=1&amp;state=open" target="_blank">GitHub issues</a> we need fixed that you can work on.
        Internet Explorer <a href="https://github.com/mozilla/togetherjs/wiki/Supported-Browsers#internet-explorer">is not supported</a>
        at this time.  While we may add support later, adding support is
        not currently on our roadmap.  If you do want to try out TogetherJS, we'd suggest using Firefox or Chrome.
      </p>

      <p>You can continue to try to use <span class="togetherjs-tool-name">TogetherJS</span>, but you are likely to hit
        lots of bugs.  So be warned.</p>

    </section>

    <section class="togetherjs-buttons">
      <button class="togetherjs-dismiss togetherjs-primary">End <span class="togetherjs-tool-name">TogetherJS</span></button>
      <button class="togetherjs-dismiss togetherjs-secondary togetherjs-browser-unsupported-anyway">Try <span class="togetherjs-tool-name">TogetherJS</span> Anyway</button>
    </section>

  </div>

  <div id="togetherjs-confirm-end" class="togetherjs-modal" style="display: none">
    <header> End session? <button class="togetherjs-close"></button></header>
    <section>
      <p>
        Are you sure you'd like to end your <span class="togetherjs-tool-name">TogetherJS</span> session?
      </p>
    </section>
    <section class="togetherjs-buttons">
      <button class="togetherjs-cancel togetherjs-dismiss">Cancel</button>
      <span class="togetherjs-alt-text">or</span>
      <button id="togetherjs-end-session" class="togetherjs-destructive">End session</button>
    </section>
  </div>

  <div id="togetherjs-feedback-form" class="togetherjs-modal" style="display: none;">
    <header> Feedback <button class="togetherjs-close"></button></header>
    <iframe src="https://docs.google.com/a/mozilla.com/forms/d/1lVE7JyRo_tjakN0mLG1Cd9X9vseBX9wci153z9JcNEs/viewform?embedded=true" marginheight="0" marginwidth="0" width="400" height="300" frameborder="0">Loading form...</iframe>
    <!-- <p><button class="togetherjs-modal-close">Close</button></p> -->
  </div>

  <div style="display: none">
    <!-- This is when you join a session and the other person has already changed to another URL: -->
    <div id="togetherjs-template-url-change" class="togetherjs-modal">
      <header> Following to new URL... <button class="togetherjs-close"></button></header>
      <section>
        <div class="togetherjs-person"><div class="togetherjs-person-avatar-swatch"></div></div>
        Following
        <span class="togetherjs-person-name"></span>
        to <a href="" class="togetherjs-person-url togetherjs-person-url-title"></a>
      </section>
    </div>

    <!-- This is when someone invites you to their session: -->
    <div id="togetherjs-template-invite" class="togetherjs-chat-item">
      <div class="togetherjs-person"><div class="togetherjs-person-avatar-swatch"></div></div>
      <div>
        <span class="togetherjs-person-name"></span>
        has invited <strong class="togetherjs-if-forEveryone">anyone</strong>
        <strong class="togetherjs-ifnot-forEveryone">you</strong>
        to <a href="" data-togetherjs-subattr-href="href" class="togetherjs-sub-hrefTitle" target="_blank"></a>
      </div>
    </div>

  </div>

  <!-- The pointer at the side of a window: -->
  <div id="togetherjs-window-pointer-right" style="top: 179px; left: 556px; opacity: 1; z-index: 8888; display: none;"></div>
  <div id="togetherjs-window-pointer-left" style="display: none"></div>

  <!-- The element that overlaps the background of the page during a modal dialog: -->
  <div id="togetherjs-modal-background" style="display: none;"></div>

  <!-- Some miscellaneous templates -->
  <div style="display: none">

    <!-- This is the cursor: -->
    <div id="togetherjs-template-cursor" class="togetherjs-cursor togetherjs">
      <!-- Note: images/cursor.svg is a copy of this (for editing): -->
      <!-- crossbrowser svg dropshadow http://demosthenes.info/blog/600/Creating-a-True-CrossBrowser-Drop-Shadow- -->
      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="15px" height="22.838px" viewBox="96.344 146.692 15 22.838" enable-background="new 96.344 146.692 15 22.838" xml:space="preserve">
      <path fill="#231F20" d="M98.984,146.692c2.167,1.322,1.624,6.067,3.773,7.298c-0.072-0.488,2.512-0.931,3.097,0
      	c0.503,0.337,1.104-0.846,2.653,0.443c0.555,0.593,3.258,2.179,1.001,8.851c-0.446,1.316,2.854,0.135,1.169,2.619
      	c-3.748,5.521-9.455,2.787-9.062,1.746c1.06-2.809-6.889-4.885-4.97-9.896c0.834-2.559,2.898,0.653,2.923,0.29
      	c-0.434-1.07-2.608-5.541-2.923-6.985C96.587,150.793,95.342,147.033,98.984,146.692z"></path>
      </svg>
      <!-- <img class="togetherjs-cursor-img" src="https://togetherjs.com/togetherjs/images/cursor.svg"> -->
      <span class="togetherjs-cursor-container">
        <span class="togetherjs-cursor-name"></span>
        <span style="display:none" class="togetherjs-cursor-typing" id="togetherjs-cursor-typebox">
          <span class="togetherjs-typing-ellipse-one">●</span><span class="togetherjs-typing-ellipse-two">●</span><span class="togetherjs-typing-ellipse-three">●</span>
        </span>
        <!-- Displayed when the cursor is below the screen: -->
        <span class="togetherjs-cursor-down">

        </span>
        <!-- Displayed when the cursor is above the screen: -->
        <span class="togetherjs-cursor-up">

        </span>
      </span>
    </div>

    <!-- This is the element that goes around focused form elements: -->
    <div id="togetherjs-template-focus">
      <div class="togetherjs-focus togetherjs-person-bordercolor"></div>
    </div>

    <!-- This is a click: -->
    <div id="togetherjs-template-click" class="togetherjs-click togetherjs">
    </div>
  </div>
<!--
    Any elements with .togetherjs-walkthrough-firsttime will only be
    displayed on during the first-time experience.  Any elements with
    .togetherjs-walkthrough-not-firsttime will only be displayed when
    the walkthrough is accessed through the Help menu.

    Note you *cannot* use <section class="togetherjs-walkthrough-slide
    togetherjs-walkthrough-firsttime">: the number of sections must be the
    same regardless.
  -->
<div id="togetherjs-walkthrough" class="togetherjs-modal togetherjs-modal-wide" style="opacity: 1; display: none;">
  <header>You're using <span class="togetherjs-tool-name">TogetherJS</span>!<button class="togetherjs-close"></button></header>

  <div id="togetherjs-walkthrough-previous" class="togetherjs-disabled"></div>
  <div id="togetherjs-walkthrough-next"></div>

  <section class="togetherjs-walkthrough-slide" style="display: block;">
    <p class="togetherjs-walkthrough-main-image"><img src="https://togetherjs.com/togetherjs/images/walkthrough-images-intro.png"></p>
	<p><span class="togetherjs-tool-name">TogetherJS</span> is a service for your website that makes it easy to collaborate in real-time on: <strong class="togetherjs-site-name">TogetherJS Drawing Example</strong></p>
  </section>

  <section class="togetherjs-walkthrough-slide" style="display: none;">
    <div class="togetherjs-walkthrough-firsttime">
      <div class="togetherjs-walkthrough-main-image">
        <div class="togetherjs-walkthrough-avatar-section">
          <div class="togetherjs-avatar-preview togetherjs-person togetherjs-person-self" style="background-image: url(&quot;https://togetherjs.com/togetherjs/images/default-avatar.png&quot;); border-color: rgb(158, 18, 208);" title="Prince Charming"></div>
          <div class="togetherjs-avatar-upload-input"><input type="file" class="togetherjs-upload-avatar"></div>
        </div>
        <input class="togetherjs-self-name" type="text" placeholder="Enter your name">
        <div class="togetherjs-swatch togetherjs-person-bgcolor-self" style="background-color: rgb(158, 18, 208);"></div>
        <div class="togetherjs-save-settings">
          <button class="togetherjs-avatar-save togetherjs-primary" disabled="">
            <span id="togetherjs-avatar-when-unsaved">Save</span>
            <span id="togetherjs-avatar-when-saved" style="display: none">Saved!</span>
          </button>
        </div>
      </div>
      <p>Set up your avatar, name and user color above.  If you'd like to update it later, you can click your Profile button.</p>
    </div>
    <div class="togetherjs-walkthrough-not-firsttime" style="display: none;">
      <p class="togetherjs-walkthrough-main-image"><img src="https://togetherjs.com/togetherjs/images/walkthrough-images-profile.png"></p>
      <p>Change your avatar, name and user color using the Profile button.</p>
    </div>
  </section>

  <section class="togetherjs-walkthrough-slide" style="display: none;">


    <p class="togetherjs-walkthrough-main-image togetherjs-if-creator">
      <span class="togetherjs-walkthrough-sendlink">
        Copy and paste this link into IM or email to invite friends.
      </span>
      <input type="text" class="togetherjs-share-link">
    </p>
    <p class="togetherjs-if-creator">Send the above link to a friend so they can join your session!  You can find this invite link on the <span class="togetherjs-tool-name">TogetherJS</span> dock as well.</p>
  </section>

  <section class="togetherjs-walkthrough-slide" style="display: none;">
    <p class="togetherjs-walkthrough-main-image"><img src="https://togetherjs.com/togetherjs/images/walkthrough-images-participant.png"></p>
    <p>Friends who join your <span class="togetherjs-tool-name">TogetherJS</span> session will appear here.  You can click their avatars to see more.</p>
  </section>

  <section class="togetherjs-walkthrough-slide" style="display: none;">
    <p class="togetherjs-walkthrough-main-image"><img src="https://togetherjs.com/togetherjs/images/walkthrough-images-chat.png"></p>
    <p>When your friends join you in your <span class="togetherjs-tool-name">TogetherJS</span> session, you can chat with them here!</p>
  </section>

  <section class="togetherjs-walkthrough-slide" style="display: none;">
    <p class="togetherjs-walkthrough-main-image"><img src="https://togetherjs.com/togetherjs/images/walkthrough-images-rtc.png"></p>
    <p>If your browser supports it, click the microphone icon to begin a audio chat. Learn more about this experimental feature <a href="https://github.com/mozilla/togetherjs/wiki/About-Audio-Chat-and-WebRTC" target="_blank">here</a>.</p>
  </section>

  <section class="togetherjs-walkthrough-slide" style="display: none;">
    <p class="togetherjs-walkthrough-main-image"><img src="https://togetherjs.com/togetherjs/images/walkthrough-images-logo.png"></p>
    <p>Alright, you're ready to use <span class="togetherjs-tool-name">TogetherJS</span>. Now start collaborating on <strong class="togetherjs-site-name">TogetherJS Drawing Example</strong>!</p>
  </section>

  <div style="display: none">
    <!-- There is one of these created for each slide: -->
    <span id="togetherjs-template-walkthrough-slide-progress" class="togetherjs-walkthrough-slide-progress">●</span>
  </div>
  <section id="togetherjs-walkthrough-progress">
  <span class="togetherjs-walkthrough-slide-progress togetherjs-active">●</span><span class="togetherjs-walkthrough-slide-progress">●</span><span class="togetherjs-walkthrough-slide-progress">●</span><span class="togetherjs-walkthrough-slide-progress">●</span><span class="togetherjs-walkthrough-slide-progress">●</span><span class="togetherjs-walkthrough-slide-progress">●</span><span class="togetherjs-walkthrough-slide-progress">●</span></section>

  <section class="togetherjs-buttons">
    <button class="togetherjs-primary togetherjs-dismiss">I'm ready!</button>
  </section>

</div><!-- /.togetherjs-modal --></div></body></html>
